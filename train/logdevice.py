# coding:utf-8

import json
import random
import re

import execjs

from util.app_util import timestamp
from util.net_util import api

js_url = 'https://kyfw.12306.cn/otn/HttpZF/GetJS'
advice_url = "https://kyfw.12306.cn/otn/HttpZF/logdevice?algID={}&hashCode={}{}&timestamp={}"

params = {
    'FMQw': '0',  # adblock
    'q4f3': 'en-US',  # browserLanguage
    'VPIf': '1',  # cookieEnabled
    'custID': '133',  # custID
    'VEek': 'unknown',  # doNotTrack
    'dzuS': '0',  # flashVersion
    'yD16': '0',  # javaEnabled
    'EOQP': 'f58b1186770646318a429cb33977d8c',  # jsFonts
    'jp76': '52d67b2a5aa5e031084733d5006cc664',  # mimeTypes
    'hAqN': 'Win32',  # os
    'platform': 'WEB',  # platform
    'ks0Q': 'd22ca0b81584fbea62237b14bd04c866',  # plugins
    'TeRS': '1040x1920',  # scrAvailSize
    'tOHY': '24xx1080x1920',  # srcScreenSize
    'Fvje': 'i1l1o1s1',  # storeDb
    'q5aJ': '-8',  # timeZone
    'wNLf': '99115dfb07133750ba677d055874de87',  # touchSupport
    '0aew': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebâ€¦L, like Gecko) Chrome/78.0.3904.108 Safari/537.36',
    # userAgent
    'E3gR': 'fb25305a718e8032038c5a2905f60536',  # webSmartID
}

device_map = {
    'NJSdNzcXtd': 'function Za(a){return 0|4294967296*(a-(0|a))}function l(a,b){this.key=a,this.value=b}function za(a){var b,c,d,e;for(b=a.length,c=a.split(""),d=0;d<parseInt(b/2);d++)0==d%2&&(e=a.charAt(d),c[d]=c[b-1-d],c[b-1-d]=e);return c.join("")}function launch(){var d,e,f;for(b="",c="",a=[],a.push(new l("adblock","0")),a.push(new l("browserLanguage","en-US")),a.push(new l("cookieEnabled","1")),a.push(new l("custID","133")),a.push(new l("doNotTrack","unknown")),a.push(new l("flashVersion",0)),a.push(new l("javaEnabled","0")),a.push(new l("jsFonts","8f58b1186770646318a429cb33977d8c")),a.push(new l("mimeTypes","52d67b2a5aa5e031084733d5006cc664")),a.push(new l("os","Win32")),a.push(new l("platform","WEB")),a.push(new l("plugins","d22ca0b81584fbea62237b14bd04c866")),a.push(new l("scrAvailSize","1040x1920")),a.push(new l("srcScreenSize","24xx1080x1920")),a.push(new l("storeDb","i1l1o1s1")),a.push(new l("timeZone",-8)),a.push(new l("touchSupport","99115dfb07133750ba677d055874de87")),a.push(new l("userAgent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36")),a.push(new l("webSmartID","fb25305a718e8032038c5a2905f60536")),a.sort(function(a,b){var c,d;if("object"==typeof a&&"object"==typeof b&&a&&b)return c=a.key,d=b.key,c===d?0:typeof c==typeof d?d>c?-1:1:typeof d>typeof c?-1:1;throw"error"}),d=0;d<a.length;d++)e=a[d].key.replace(RegExp("%","gm"),""),f="",f="string"==typeof a[d].value?a[d].value.replace(RegExp("%","gm"),""):a[d].value,""!==f&&(c+=e+f,b+="&"+(void 0==ib[e]?e:ib[e])+"="+f);return a=za(c),a=za(a),c=a.length,d=0==c%3?parseInt(c/3):parseInt(c/3)+1,3>c||(e=a.substring(0,1*d),f=a.substring(1*d,2*d),a=a.substring(2*d,c)+e+f),a=R.SHA256(a).toString(R.enc.Base64),c=za(a),c=R.SHA256(c).toString(R.enc.Base64),new l(b,c)}var yb,R,sa,ta,S,zb,ua,eb,fb,va,ga,X,Ab,Ma,T,gb,Bb,ib,da=Math,qa={},ra=qa.lib={},bb=function(){},ea=ra.Base={extend:function(a){bb.prototype=this;var b=new bb;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},clone:function(){return this.init.prototype.extend(this)},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},init:function(){},create:function(){var a=this.extend();return a.init.apply(a,arguments),a}},fa=ra.WordArray=ea.extend({init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},concat:function(a){var e,b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(e=0;a>e;e++)b[d+e>>>2]|=(255&c[e>>>2]>>>24-8*(e%4))<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},toString:function(a){return(a||wb).stringify(this)},random:function(a){for(var b=[],c=0;a>c;c+=4)b.push(0|4294967296*da.random());return new fa.init(b,a)},clamp:function(){var a=this.words,b=this.sigBytes;a[b>>>2]&=4294967295<<32-8*(b%4),a.length=da.ceil(b/4)},clone:function(){var a=ea.clone.call(this);return a.words=this.words.slice(0),a}}),La=qa.enc={},wb=La.Hex={parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new fa.init(c,b/2)},stringify:function(a){var c,d,e,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)e=255&b[d>>>2]>>>24-8*(d%4),c.push((e>>>4).toString(16)),c.push((15&e).toString(16));return c.join("")}},cb=La.Latin1={stringify:function(a){var c,d,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)c.push(String.fromCharCode(255&b[d>>>2]>>>24-8*(d%4)));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new fa.init(c,b)}},xb=La.Utf8={stringify:function(a){try{return decodeURIComponent(escape(cb.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return cb.parse(unescape(encodeURIComponent(a)))}},db=ra.BufferedBlockAlgorithm=ea.extend({_process:function(a){var g,b=this._data,c=b.words,d=b.sigBytes,e=this.blockSize,f=d/(4*e);if(f=a?da.ceil(f):da.max((0|f)-this._minBufferSize,0),a=f*e,d=da.min(4*a,d),a){for(g=0;a>g;g+=e)this._doProcessBlock(c,g);g=c.splice(0,a),b.sigBytes-=d}return new fa.init(g,d)},_minBufferSize:0,_append:function(a){"string"==typeof a&&(a=xb.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},clone:function(){var a=ea.clone.call(this);return a._data=this._data.clone(),a},reset:function(){this._data=new fa.init,this._nDataBytes=0}});for(ra.Hasher=db.extend({update:function(a){return this._append(a),this._process(),this},_createHmacHelper:function(a){return function(b,c){return new yb.HMAC.init(a,c).finalize(b)}},init:function(a){this.cfg=this.cfg.extend(a),this.reset()},blockSize:16,cfg:ea.extend(),_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},finalize:function(a){return a&&this._append(a),this._doFinalize()},reset:function(){db.reset.call(this),this._doReset()}}),yb=qa.algo={},Ka=qa,R=Ka,sa=Math,ta=R,S=ta.lib,zb=S.WordArray,ua=S.Hasher,S=ta.algo,eb=[],fb=[],va=2,ga=0;64>ga;){a:{for(X=va,Ab=sa.sqrt(X),Ma=2;Ab>=Ma;Ma++)if(!(X%Ma)){X=!1;break a}X=!0}X&&(8>ga&&(eb[ga]=Za(sa.pow(va,.5))),fb[ga]=Za(sa.pow(va,1/3)),ga++),va++}T=[],S=S.SHA256=ua.extend({_doProcessBlock:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=0;64>l;l++)16>l?T[l]=0|a[b+l]:(m=T[l-15],n=T[l-2],T[l]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+T[l-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+T[l-16]),m=k+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&i^~h&j)+fb[l]+T[l],n=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),k=j,j=i,i=h,h=0|g+m,g=f,f=e,e=d,d=0|m+n;c[0]=0|c[0]+d,c[1]=0|c[1]+e,c[2]=0|c[2]+f,c[3]=0|c[3]+g,c[4]=0|c[4]+h,c[5]=0|c[5]+i,c[6]=0|c[6]+j,c[7]=0|c[7]+k},_doReset:function(){this._hash=new zb.init(eb.slice(0))},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=sa.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var a=ua.clone.call(this);return a._hash=this._hash.clone(),a}}),ta.SHA256=ua._createHelper(S),ta.HmacSHA256=ua._createHmacHelper(S),gb=R,Bb=gb.lib.WordArray,gb.enc.Base64={parse:function(a){var e,f,g,h,b=a.length,c=this._map,d=c.charAt(64);for(d&&(d=a.indexOf(d),-1!=d&&(b=d)),d=[],e=0,f=0;b>f;f++)f%4&&(g=c.indexOf(a.charAt(f-1))<<2*(f%4),h=c.indexOf(a.charAt(f))>>>6-2*(f%4),d[e>>>2]|=(g|h)<<24-8*(e%4),e++);return Bb.create(d,e)},stringify:function(a){var e,f,g,b=a.words,c=a.sigBytes,d=this._map;for(a.clamp(),a=[],e=0;c>e;e+=3)for(f=(255&b[e>>>2]>>>24-8*(e%4))<<16|(255&b[e+1>>>2]>>>24-8*((e+1)%4))<<8|255&b[e+2>>>2]>>>24-8*((e+2)%4),g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(63&f>>>6*(3-g)));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},ib={localStorage:"XM7l",timeZone:"q5aJ",flashVersion:"dzuS",online:"9vyE",storeDb:"Fvje",historyList:"kU5z",plugins:"ks0Q",scrWidth:"ssI5",systemLanguage:"e6OK",webSmartID:"E3gR",scrAvailSize:"TeRS",browserLanguage:"q4f3",hasLiedBrowser:"2xC5",cookieEnabled:"VPIf",hasLiedOs:"ci5c",hasLiedLanguages:"j5po",scrAvailWidth:"E-lJ",scrDeviceXDPI:"3jCe",os:"hAqN",scrColorDepth:"qmyu",adblock:"FMQw",appMinorVersion:"qBVW",mimeTypes:"jp76",browserName:"-UVA",doNotTrack:"VEek",sessionStorage:"HVia",cookieCode:"VySQ",srcScreenSize:"tOHY",scrHeight:"5Jwy",openDatabase:"V8vl",browserVersion:"d435",localCode:"lEnu",indexedDb:"3sw-",scrAvailHeight:"88tV",javaEnabled:"yD16",jsFonts:"EOQP",appcodeName:"qT7b",hasLiedResolution:"3neK",userAgent:"0aew",touchSupport:"wNLf",cpuClass:"Md7A",userLanguage:"hLzX"};',
    'ZcIkPDaiQN': 'function Za(a){return 0|4294967296*(a-(0|a))}function l(a,b){this.key=a,this.value=b}function n(a,b){this.key=a,this.value=b}function Ra(a){for(var b="",c=a.length-1;c>=0;c--)b+=a.charAt(c);return b}function launch(){var d,e,f;for(b="",c="",a=[],a.push(new l("adblock","0")),a.push(new l("browserLanguage","en-US")),a.push(new l("cookieEnabled","1")),a.push(new l("custID","133")),a.push(new l("doNotTrack","unknown")),a.push(new l("flashVersion",0)),a.push(new l("javaEnabled","0")),a.push(new l("jsFonts","8f58b1186770646318a429cb33977d8c")),a.push(new l("mimeTypes","52d67b2a5aa5e031084733d5006cc664")),a.push(new l("os","Win32")),a.push(new l("platform","WEB")),a.push(new l("plugins","d22ca0b81584fbea62237b14bd04c866")),a.push(new l("scrAvailSize","1040x1920")),a.push(new l("srcScreenSize","24xx1080x1920")),a.push(new l("storeDb","i1l1o1s1")),a.push(new l("timeZone",-8)),a.push(new l("touchSupport","99115dfb07133750ba677d055874de87")),a.push(new l("userAgent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36")),a.push(new l("webSmartID","fb25305a718e8032038c5a2905f60536")),a.sort(function(a,b){var c,d;if("object"==typeof a&&"object"==typeof b&&a&&b)return c=a.key,d=b.key,c===d?0:typeof c==typeof d?d>c?-1:1:typeof d>typeof c?-1:1;throw"error"}),d=0;d<a.length;d++)e=a[d].key.replace(RegExp("%","gm"),""),f="",f="string"==typeof a[d].value?a[d].value.replace(RegExp("%","gm"),""):a[d].value,""!==f&&(c+=e+f,b+="&"+(void 0==ib[e]?e:ib[e])+"="+f);for(a=Ra(c),c=a.length,d="",d=0==a.length%2?a.substring(c/2,c)+a.substring(0,c/2):a.substring(c/2+1,c)+a.charAt(c/2)+a.substring(0,c/2),e=d.length,f=0==e%3?parseInt(e/3):parseInt(e/3)+1,3>e?a=d:(a=d.substring(0,1*f),c=d.substring(1*f,2*f),d=d.substring(2*f,e),a=c+d+a),a=Ra(a),c=a.length,d=a.split(""),e=0;e<parseInt(c/2);e++)0==e%2&&(f=a.charAt(e),d[e]=d[c-1-e],d[c-1-e]=f);return c=d.join(""),c=ca.SHA256(c).toString(ca.enc.Base64),new n(b,c)}var xb,ca,sa,ta,R,yb,ua,eb,fb,va,ga,W,zb,La,S,gb,Ab,ib,da=Math,qa={},ra=qa.lib={},bb=function(){},ea=ra.Base={create:function(){var a=this.extend();return a.init.apply(a,arguments),a},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},init:function(){},extend:function(a){bb.prototype=this;var b=new bb;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},clone:function(){return this.init.prototype.extend(this)}},fa=ra.WordArray=ea.extend({clamp:function(){var a=this.words,b=this.sigBytes;a[b>>>2]&=4294967295<<32-8*(b%4),a.length=da.ceil(b/4)},random:function(a){for(var b=[],c=0;a>c;c+=4)b.push(0|4294967296*da.random());return new fa.init(b,a)},concat:function(a){var e,b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(e=0;a>e;e++)b[d+e>>>2]|=(255&c[e>>>2]>>>24-8*(e%4))<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clone:function(){var a=ea.clone.call(this);return a.words=this.words.slice(0),a},init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},toString:function(a){return(a||vb).stringify(this)}}),Ka=qa.enc={},vb=Ka.Hex={stringify:function(a){var c,d,e,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)e=255&b[d>>>2]>>>24-8*(d%4),c.push((e>>>4).toString(16)),c.push((15&e).toString(16));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new fa.init(c,b/2)}},cb=Ka.Latin1={parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new fa.init(c,b)},stringify:function(a){var c,d,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)c.push(String.fromCharCode(255&b[d>>>2]>>>24-8*(d%4)));return c.join("")}},wb=Ka.Utf8={stringify:function(a){try{return decodeURIComponent(escape(cb.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return cb.parse(unescape(encodeURIComponent(a)))}},db=ra.BufferedBlockAlgorithm=ea.extend({clone:function(){var a=ea.clone.call(this);return a._data=this._data.clone(),a},_append:function(a){"string"==typeof a&&(a=wb.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var g,b=this._data,c=b.words,d=b.sigBytes,e=this.blockSize,f=d/(4*e);if(f=a?da.ceil(f):da.max((0|f)-this._minBufferSize,0),a=f*e,d=da.min(4*a,d),a){for(g=0;a>g;g+=e)this._doProcessBlock(c,g);g=c.splice(0,a),b.sigBytes-=d}return new fa.init(g,d)},_minBufferSize:0,reset:function(){this._data=new fa.init,this._nDataBytes=0}});for(ra.Hasher=db.extend({cfg:ea.extend(),reset:function(){db.reset.call(this),this._doReset()},init:function(a){this.cfg=this.cfg.extend(a),this.reset()},_createHmacHelper:function(a){return function(b,c){return new xb.HMAC.init(a,c).finalize(b)}},blockSize:16,finalize:function(a){return a&&this._append(a),this._doFinalize()},update:function(a){return this._append(a),this._process(),this},_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}}}),xb=qa.algo={},Ja=qa,ca=Ja,sa=Math,ta=ca,R=ta.lib,yb=R.WordArray,ua=R.Hasher,R=ta.algo,eb=[],fb=[],va=2,ga=0;64>ga;){a:{for(W=va,zb=sa.sqrt(W),La=2;zb>=La;La++)if(!(W%La)){W=!1;break a}W=!0}W&&(8>ga&&(eb[ga]=Za(sa.pow(va,.5))),fb[ga]=Za(sa.pow(va,1/3)),ga++),va++}S=[],R=R.SHA256=ua.extend({_doProcessBlock:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=0;64>l;l++)16>l?S[l]=0|a[b+l]:(m=S[l-15],n=S[l-2],S[l]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+S[l-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+S[l-16]),m=k+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&i^~h&j)+fb[l]+S[l],n=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),k=j,j=i,i=h,h=0|g+m,g=f,f=e,e=d,d=0|m+n;c[0]=0|c[0]+d,c[1]=0|c[1]+e,c[2]=0|c[2]+f,c[3]=0|c[3]+g,c[4]=0|c[4]+h,c[5]=0|c[5]+i,c[6]=0|c[6]+j,c[7]=0|c[7]+k},_doReset:function(){this._hash=new yb.init(eb.slice(0))},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=sa.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var a=ua.clone.call(this);return a._hash=this._hash.clone(),a}}),ta.SHA256=ua._createHelper(R),ta.HmacSHA256=ua._createHmacHelper(R),gb=ca,Ab=gb.lib.WordArray,gb.enc.Base64={stringify:function(a){var e,f,g,b=a.words,c=a.sigBytes,d=this._map;for(a.clamp(),a=[],e=0;c>e;e+=3)for(f=(255&b[e>>>2]>>>24-8*(e%4))<<16|(255&b[e+1>>>2]>>>24-8*((e+1)%4))<<8|255&b[e+2>>>2]>>>24-8*((e+2)%4),g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(63&f>>>6*(3-g)));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var e,f,g,h,b=a.length,c=this._map,d=c.charAt(64);for(d&&(d=a.indexOf(d),-1!=d&&(b=d)),d=[],e=0,f=0;b>f;f++)f%4&&(g=c.indexOf(a.charAt(f-1))<<2*(f%4),h=c.indexOf(a.charAt(f))>>>6-2*(f%4),d[e>>>2]|=(g|h)<<24-8*(e%4),e++);return Ab.create(d,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},ib={openDatabase:"V8vl",hasLiedLanguages:"j5po",plugins:"ks0Q",browserName:"-UVA",online:"9vyE",scrHeight:"5Jwy",adblock:"FMQw",hasLiedOs:"ci5c",sessionStorage:"HVia",cookieCode:"VySQ",systemLanguage:"e6OK",browserVersion:"d435",srcScreenSize:"tOHY",webSmartID:"E3gR",historyList:"kU5z",appMinorVersion:"qBVW",scrAvailHeight:"88tV",cookieEnabled:"VPIf",userLanguage:"hLzX",hasLiedResolution:"3neK",storeDb:"Fvje",scrColorDepth:"qmyu",localStorage:"XM7l",scrAvailSize:"TeRS",flashVersion:"dzuS",indexedDb:"3sw-",jsFonts:"EOQP",hasLiedBrowser:"2xC5",appcodeName:"qT7b",scrDeviceXDPI:"3jCe",userAgent:"0aew",doNotTrack:"VEek",mimeTypes:"jp76",os:"hAqN",localCode:"lEnu",timeZone:"q5aJ",touchSupport:"wNLf",scrAvailWidth:"E-lJ",browserLanguage:"q4f3",cpuClass:"Md7A",scrWidth:"ssI5",javaEnabled:"yD16"};',
    'GZqsgbsRyJ': 'function Za(a){return 0|4294967296*(a-(0|a))}function l(a,b){this.key=a,this.value=b}function Ra(a){for(var b="",c=a.length-1;c>=0;c--)b+=a.charAt(c);return b}function Qa(a){var b=a.length;return 0==a.length%2?a.substring(b/2,b)+a.substring(0,b/2):a.substring(b/2+1,b)+a.charAt(b/2)+a.substring(0,b/2)}function launch(){var d,e,f;for(b="",c="",a=[],a.push(new l("adblock","0")),a.push(new l("browserLanguage","en-US")),a.push(new l("cookieEnabled","1")),a.push(new l("custID","133")),a.push(new l("doNotTrack","unknown")),a.push(new l("flashVersion",0)),a.push(new l("javaEnabled","0")),a.push(new l("jsFonts","8f58b1186770646318a429cb33977d8c")),a.push(new l("mimeTypes","52d67b2a5aa5e031084733d5006cc664")),a.push(new l("os","Win32")),a.push(new l("platform","WEB")),a.push(new l("plugins","d22ca0b81584fbea62237b14bd04c866")),a.push(new l("scrAvailSize","1040x1920")),a.push(new l("srcScreenSize","24xx1080x1920")),a.push(new l("storeDb","i1l1o1s1")),a.push(new l("timeZone",-8)),a.push(new l("touchSupport","99115dfb07133750ba677d055874de87")),a.push(new l("userAgent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.79 Safari/537.36")),a.push(new l("webSmartID","3811c96d202338bdcb155384b957d030")),a.sort(function(a,b){var c,d;if("object"==typeof a&&"object"==typeof b&&a&&b)return c=a.key,d=b.key,c===d?0:typeof c==typeof d?d>c?-1:1:typeof d>typeof c?-1:1;throw"error"}),d=0;d<a.length;d++)e=a[d].key.replace(RegExp("%","gm"),""),f="",f="string"==typeof a[d].value?a[d].value.replace(RegExp("%","gm"),""):a[d].value,""!==f&&(c+=e+f,b+="&"+(void 0==hb[e]?e:hb[e])+"="+f);for(a=Qa(c),a=Ra(a),a=Ra(a),c=a.length,d=a.split(""),e=0;e<parseInt(c/2);e++)0==e%2&&(f=a.charAt(e),d[e]=d[c-1-e],d[c-1-e]=f);return a=d.join(""),c=Qa(a),c=ca.SHA256(c).toString(ca.enc.Base64),new l(b,c)}var ab,Ia,da,pa,qa,bb,ea,fa,Ja,wb,cb,xb,db,yb,ca,ra,sa,R,zb,ta,eb,fb,ua,ga,W,Ab,Ka,S,gb,Bb,$a={removeElem:function(a){var b=a.parentNode;if(b)try{b.removeChild(a)}catch(c){}},now:function(){return(new Date).getTime()},parseData:function(a){var c,b="";if("string"==typeof a)b=a;else if("object"==typeof a)for(c in a)b+="&"+c+"="+encodeURIComponent(a[c]);return b+="&_time="+this.now(),b=b.substr(1)},rand:function(){return Math.random().toString().substr(2)},getJSON:function(a,b,c){b=u.createElement("script"),b.type="text/javascript",b.src=a,b.id="id_callbackFunction",r.callbackFunction=function(a){r.callbackFunction=void 0;var b=u.getElementById("id_callbackFunction");b&&$a.removeElem(b),c(a)},(a=u.getElementsByTagName("head"))&&a[0]&&a[0].appendChild(b)}};for(debug=!1,ab=["WEB","WAP"],(Ia=ca)||(da=Math,pa={},qa=pa.lib={},bb=function(){},ea=qa.Base={mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)},init:function(){},extend:function(a){bb.prototype=this;var b=new bb;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a}},fa=qa.WordArray=ea.extend({random:function(a){for(var b=[],c=0;a>c;c+=4)b.push(0|4294967296*da.random());return new fa.init(b,a)},init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},concat:function(a){var e,b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(e=0;a>e;e++)b[d+e>>>2]|=(255&c[e>>>2]>>>24-8*(e%4))<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clone:function(){var a=ea.clone.call(this);return a.words=this.words.slice(0),a},toString:function(a){return(a||wb).stringify(this)},clamp:function(){var a=this.words,b=this.sigBytes;a[b>>>2]&=4294967295<<32-8*(b%4),a.length=da.ceil(b/4)}}),Ja=pa.enc={},wb=Ja.Hex={stringify:function(a){var c,d,e,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)e=255&b[d>>>2]>>>24-8*(d%4),c.push((e>>>4).toString(16)),c.push((15&e).toString(16));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new fa.init(c,b/2)}},cb=Ja.Latin1={parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new fa.init(c,b)},stringify:function(a){var c,d,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)c.push(String.fromCharCode(255&b[d>>>2]>>>24-8*(d%4)));return c.join("")}},xb=Ja.Utf8={parse:function(a){return cb.parse(unescape(encodeURIComponent(a)))},stringify:function(a){try{return decodeURIComponent(escape(cb.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}}},db=qa.BufferedBlockAlgorithm=ea.extend({_minBufferSize:0,clone:function(){var a=ea.clone.call(this);return a._data=this._data.clone(),a},reset:function(){this._data=new fa.init,this._nDataBytes=0},_process:function(a){var g,b=this._data,c=b.words,d=b.sigBytes,e=this.blockSize,f=d/(4*e);if(f=a?da.ceil(f):da.max((0|f)-this._minBufferSize,0),a=f*e,d=da.min(4*a,d),a){for(g=0;a>g;g+=e)this._doProcessBlock(c,g);g=c.splice(0,a),b.sigBytes-=d}return new fa.init(g,d)},_append:function(a){"string"==typeof a&&(a=xb.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}}),qa.Hasher=db.extend({cfg:ea.extend(),reset:function(){db.reset.call(this),this._doReset()},init:function(a){this.cfg=this.cfg.extend(a),this.reset()},_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,update:function(a){return this._append(a),this._process(),this},_createHmacHelper:function(a){return function(b,c){return new yb.HMAC.init(a,c).finalize(b)}}}),yb=pa.algo={},Ia=pa),ca=Ia,ra=Math,sa=ca,R=sa.lib,zb=R.WordArray,ta=R.Hasher,R=sa.algo,eb=[],fb=[],ua=2,ga=0;64>ga;){a:{for(W=ua,Ab=ra.sqrt(W),Ka=2;Ab>=Ka;Ka++)if(!(W%Ka)){W=!1;break a}W=!0}W&&(8>ga&&(eb[ga]=Za(ra.pow(ua,.5))),fb[ga]=Za(ra.pow(ua,1/3)),ga++),ua++}S=[],R=R.SHA256=ta.extend({_doProcessBlock:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=0;64>l;l++)16>l?S[l]=0|a[b+l]:(m=S[l-15],n=S[l-2],S[l]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+S[l-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+S[l-16]),m=k+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&i^~h&j)+fb[l]+S[l],n=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),k=j,j=i,i=h,h=0|g+m,g=f,f=e,e=d,d=0|m+n;c[0]=0|c[0]+d,c[1]=0|c[1]+e,c[2]=0|c[2]+f,c[3]=0|c[3]+g,c[4]=0|c[4]+h,c[5]=0|c[5]+i,c[6]=0|c[6]+j,c[7]=0|c[7]+k},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=ra.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash},_doReset:function(){this._hash=new zb.init(eb.slice(0))},clone:function(){var a=ta.clone.call(this);return a._hash=this._hash.clone(),a}}),sa.SHA256=ta._createHelper(R),sa.HmacSHA256=ta._createHmacHelper(R),gb=ca,Bb=gb.lib.WordArray,gb.enc.Base64={parse:function(a){var e,f,g,h,b=a.length,c=this._map,d=c.charAt(64);for(d&&(d=a.indexOf(d),-1!=d&&(b=d)),d=[],e=0,f=0;b>f;f++)f%4&&(g=c.indexOf(a.charAt(f-1))<<2*(f%4),h=c.indexOf(a.charAt(f))>>>6-2*(f%4),d[e>>>2]|=(g|h)<<24-8*(e%4),e++);return Bb.create(d,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",stringify:function(a){var e,f,g,b=a.words,c=a.sigBytes,d=this._map;for(a.clamp(),a=[],e=0;c>e;e+=3)for(f=(255&b[e>>>2]>>>24-8*(e%4))<<16|(255&b[e+1>>>2]>>>24-8*((e+1)%4))<<8|255&b[e+2>>>2]>>>24-8*((e+2)%4),g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(63&f>>>6*(3-g)));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")}},hb={scrAvailHeight:"88tV",indexedDb:"3sw-",localCode:"lEnu",javaEnabled:"yD16",scrColorDepth:"qmyu",browserVersion:"d435",storeDb:"Fvje",scrDeviceXDPI:"3jCe",jsFonts:"EOQP",cpuClass:"Md7A",hasLiedLanguages:"j5po",hasLiedResolution:"3neK",appcodeName:"qT7b",systemLanguage:"e6OK",mimeTypes:"jp76",adblock:"FMQw",userAgent:"0aew",scrWidth:"ssI5",userLanguage:"hLzX",openDatabase:"V8vl",historyList:"kU5z",appMinorVersion:"qBVW",flashVersion:"dzuS",hasLiedBrowser:"2xC5",sessionStorage:"HVia",browserName:"-UVA",os:"hAqN",hasLiedOs:"ci5c",scrHeight:"5Jwy",browserLanguage:"q4f3",cookieEnabled:"VPIf",doNotTrack:"VEek",srcScreenSize:"tOHY",scrAvailWidth:"E-lJ",webSmartID:"E3gR",scrAvailSize:"TeRS",timeZone:"q5aJ",plugins:"ks0Q",localStorage:"XM7l",touchSupport:"wNLf",online:"9vyE",cookieCode:"VySQ"};',
}


def generate_advice():
    res = api.single_get(js_url).text
    alg_id = re.findall(r'\\x3d\w*\\x26', res)[0][4:-4]
    if not device_map.get(alg_id):
        alg_id = random.choice(device_map.keys())
    res = execute_js(device_map.get(alg_id))
    global advice_url
    advice_url = advice_url.format(alg_id, res['value'], res['key'], timestamp()).replace(' ', '%20')
    res = api.single_get(advice_url).text
    return json.loads(res[18:-2])


def get_all_device_method():
    import time
    from fake_useragent import UserAgent
    u = UserAgent()
    s = set()
    for i in range(100):
        res = api.single_get(js_url, headers={'User-Agent': u.random}).text
        alg_id = re.findall(r'\\x3d\w*\\x26', res)[0][4:-4]
        print(alg_id)
        s.add(alg_id)
        time.sleep(0.3)


def execute_js(js, method='launch'):
    ctx = execjs.compile(js)
    return ctx.call(method)


if __name__ == '__main__':
    # print(get_all_device_method())
    # print(generate_advice())
    # for k, v in device_map.items():
    #     print(execute_js(v))
    res = execute_js("""
            function Za(a){return 0|4294967296*(a-(0|a))}function l(a,b){this.key=a,this.value=b}function Ra(a){for(var b="",c=a.length-1;c>=0;c--)b+=a.charAt(c);return b}function Qa(a){var b=a.length;return 0==a.length%2?a.substring(b/2,b)+a.substring(0,b/2):a.substring(b/2+1,b)+a.charAt(b/2)+a.substring(0,b/2)}function launch(){var d,e,f;for(b="",c="",a=[],a.push(new l("adblock","0")),a.push(new l("browserLanguage","en-US")),a.push(new l("cookieEnabled","1")),a.push(new l("custID","133")),a.push(new l("doNotTrack","unknown")),a.push(new l("flashVersion",0)),a.push(new l("javaEnabled","0")),a.push(new l("jsFonts","8f58b1186770646318a429cb33977d8c")),a.push(new l("mimeTypes","52d67b2a5aa5e031084733d5006cc664")),a.push(new l("os","Win32")),a.push(new l("platform","WEB")),a.push(new l("plugins","d22ca0b81584fbea62237b14bd04c866")),a.push(new l("scrAvailSize","1040x1920")),a.push(new l("srcScreenSize","24xx1080x1920")),a.push(new l("storeDb","i1l1o1s1")),a.push(new l("timeZone",-8)),a.push(new l("touchSupport","99115dfb07133750ba677d055874de87")),a.push(new l("userAgent","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.79 Safari/537.36")),a.push(new l("webSmartID","3811c96d202338bdcb155384b957d030")),a.sort(function(a,b){var c,d;if("object"==typeof a&&"object"==typeof b&&a&&b)return c=a.key,d=b.key,c===d?0:typeof c==typeof d?d>c?-1:1:typeof d>typeof c?-1:1;throw"error"}),d=0;d<a.length;d++)e=a[d].key.replace(RegExp("%","gm"),""),f="",f="string"==typeof a[d].value?a[d].value.replace(RegExp("%","gm"),""):a[d].value,""!==f&&(c+=e+f,b+="&"+(void 0==hb[e]?e:hb[e])+"="+f);for(a=Qa(c),a=Ra(a),a=Ra(a),c=a.length,d=a.split(""),e=0;e<parseInt(c/2);e++)0==e%2&&(f=a.charAt(e),d[e]=d[c-1-e],d[c-1-e]=f);return a=d.join(""),c=Qa(a),c=ca.SHA256(c).toString(ca.enc.Base64),new l(b,c)}var ab,Ia,da,pa,qa,bb,ea,fa,Ja,wb,cb,xb,db,yb,ca,ra,sa,R,zb,ta,eb,fb,ua,ga,W,Ab,Ka,S,gb,Bb,$a={removeElem:function(a){var b=a.parentNode;if(b)try{b.removeChild(a)}catch(c){}},now:function(){return(new Date).getTime()},parseData:function(a){var c,b="";if("string"==typeof a)b=a;else if("object"==typeof a)for(c in a)b+="&"+c+"="+encodeURIComponent(a[c]);return b+="&_time="+this.now(),b=b.substr(1)},rand:function(){return Math.random().toString().substr(2)},getJSON:function(a,b,c){b=u.createElement("script"),b.type="text/javascript",b.src=a,b.id="id_callbackFunction",r.callbackFunction=function(a){r.callbackFunction=void 0;var b=u.getElementById("id_callbackFunction");b&&$a.removeElem(b),c(a)},(a=u.getElementsByTagName("head"))&&a[0]&&a[0].appendChild(b)}};for(debug=!1,ab=["WEB","WAP"],(Ia=ca)||(da=Math,pa={},qa=pa.lib={},bb=function(){},ea=qa.Base={mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)},init:function(){},extend:function(a){bb.prototype=this;var b=new bb;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a}},fa=qa.WordArray=ea.extend({random:function(a){for(var b=[],c=0;a>c;c+=4)b.push(0|4294967296*da.random());return new fa.init(b,a)},init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},concat:function(a){var e,b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(e=0;a>e;e++)b[d+e>>>2]|=(255&c[e>>>2]>>>24-8*(e%4))<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clone:function(){var a=ea.clone.call(this);return a.words=this.words.slice(0),a},toString:function(a){return(a||wb).stringify(this)},clamp:function(){var a=this.words,b=this.sigBytes;a[b>>>2]&=4294967295<<32-8*(b%4),a.length=da.ceil(b/4)}}),Ja=pa.enc={},wb=Ja.Hex={stringify:function(a){var c,d,e,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)e=255&b[d>>>2]>>>24-8*(d%4),c.push((e>>>4).toString(16)),c.push((15&e).toString(16));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new fa.init(c,b/2)}},cb=Ja.Latin1={parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new fa.init(c,b)},stringify:function(a){var c,d,b=a.words;for(a=a.sigBytes,c=[],d=0;a>d;d++)c.push(String.fromCharCode(255&b[d>>>2]>>>24-8*(d%4)));return c.join("")}},xb=Ja.Utf8={parse:function(a){return cb.parse(unescape(encodeURIComponent(a)))},stringify:function(a){try{return decodeURIComponent(escape(cb.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}}},db=qa.BufferedBlockAlgorithm=ea.extend({_minBufferSize:0,clone:function(){var a=ea.clone.call(this);return a._data=this._data.clone(),a},reset:function(){this._data=new fa.init,this._nDataBytes=0},_process:function(a){var g,b=this._data,c=b.words,d=b.sigBytes,e=this.blockSize,f=d/(4*e);if(f=a?da.ceil(f):da.max((0|f)-this._minBufferSize,0),a=f*e,d=da.min(4*a,d),a){for(g=0;a>g;g+=e)this._doProcessBlock(c,g);g=c.splice(0,a),b.sigBytes-=d}return new fa.init(g,d)},_append:function(a){"string"==typeof a&&(a=xb.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}}),qa.Hasher=db.extend({cfg:ea.extend(),reset:function(){db.reset.call(this),this._doReset()},init:function(a){this.cfg=this.cfg.extend(a),this.reset()},_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,update:function(a){return this._append(a),this._process(),this},_createHmacHelper:function(a){return function(b,c){return new yb.HMAC.init(a,c).finalize(b)}}}),yb=pa.algo={},Ia=pa),ca=Ia,ra=Math,sa=ca,R=sa.lib,zb=R.WordArray,ta=R.Hasher,R=sa.algo,eb=[],fb=[],ua=2,ga=0;64>ga;){a:{for(W=ua,Ab=ra.sqrt(W),Ka=2;Ab>=Ka;Ka++)if(!(W%Ka)){W=!1;break a}W=!0}W&&(8>ga&&(eb[ga]=Za(ra.pow(ua,.5))),fb[ga]=Za(ra.pow(ua,1/3)),ga++),ua++}S=[],R=R.SHA256=ta.extend({_doProcessBlock:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=0;64>l;l++)16>l?S[l]=0|a[b+l]:(m=S[l-15],n=S[l-2],S[l]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+S[l-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+S[l-16]),m=k+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&i^~h&j)+fb[l]+S[l],n=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),k=j,j=i,i=h,h=0|g+m,g=f,f=e,e=d,d=0|m+n;c[0]=0|c[0]+d,c[1]=0|c[1]+e,c[2]=0|c[2]+f,c[3]=0|c[3]+g,c[4]=0|c[4]+h,c[5]=0|c[5]+i,c[6]=0|c[6]+j,c[7]=0|c[7]+k},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=ra.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash},_doReset:function(){this._hash=new zb.init(eb.slice(0))},clone:function(){var a=ta.clone.call(this);return a._hash=this._hash.clone(),a}}),sa.SHA256=ta._createHelper(R),sa.HmacSHA256=ta._createHmacHelper(R),gb=ca,Bb=gb.lib.WordArray,gb.enc.Base64={parse:function(a){var e,f,g,h,b=a.length,c=this._map,d=c.charAt(64);for(d&&(d=a.indexOf(d),-1!=d&&(b=d)),d=[],e=0,f=0;b>f;f++)f%4&&(g=c.indexOf(a.charAt(f-1))<<2*(f%4),h=c.indexOf(a.charAt(f))>>>6-2*(f%4),d[e>>>2]|=(g|h)<<24-8*(e%4),e++);return Bb.create(d,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",stringify:function(a){var e,f,g,b=a.words,c=a.sigBytes,d=this._map;for(a.clamp(),a=[],e=0;c>e;e+=3)for(f=(255&b[e>>>2]>>>24-8*(e%4))<<16|(255&b[e+1>>>2]>>>24-8*((e+1)%4))<<8|255&b[e+2>>>2]>>>24-8*((e+2)%4),g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(63&f>>>6*(3-g)));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")}},hb={scrAvailHeight:"88tV",indexedDb:"3sw-",localCode:"lEnu",javaEnabled:"yD16",scrColorDepth:"qmyu",browserVersion:"d435",storeDb:"Fvje",scrDeviceXDPI:"3jCe",jsFonts:"EOQP",cpuClass:"Md7A",hasLiedLanguages:"j5po",hasLiedResolution:"3neK",appcodeName:"qT7b",systemLanguage:"e6OK",mimeTypes:"jp76",adblock:"FMQw",userAgent:"0aew",scrWidth:"ssI5",userLanguage:"hLzX",openDatabase:"V8vl",historyList:"kU5z",appMinorVersion:"qBVW",flashVersion:"dzuS",hasLiedBrowser:"2xC5",sessionStorage:"HVia",browserName:"-UVA",os:"hAqN",hasLiedOs:"ci5c",scrHeight:"5Jwy",browserLanguage:"q4f3",cookieEnabled:"VPIf",doNotTrack:"VEek",srcScreenSize:"tOHY",scrAvailWidth:"E-lJ",webSmartID:"E3gR",scrAvailSize:"TeRS",timeZone:"q5aJ",plugins:"ks0Q",localStorage:"XM7l",touchSupport:"wNLf",online:"9vyE",cookieCode:"VySQ"};
        """)
    print(res)
